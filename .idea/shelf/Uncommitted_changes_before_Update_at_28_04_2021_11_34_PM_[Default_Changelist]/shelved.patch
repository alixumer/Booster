Index: app/build.gradle
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>apply plugin: 'com.android.application'\r\napply plugin: 'com.google.gms.google-services'\r\n\r\nandroid {\r\n    compileSdkVersion 30\r\n\r\n\r\n    defaultConfig {\r\n        applicationId \"com.boosterfueldeliveryservices\"\r\n        minSdkVersion 21\r\n        targetSdkVersion 30\r\n        versionCode 1\r\n        versionName \"1.0\"\r\n\r\n        testInstrumentationRunner \"androidx.test.runner.AndroidJUnitRunner\"\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\r\n        }\r\n    }\r\n\r\n}\r\n\r\ndependencies {\r\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\r\n\r\n\r\n    implementation 'androidx.appcompat:appcompat:1.2.0'\r\n    implementation 'com.github.mohammadatif:CircularImageView:1.0.0'\r\n    implementation 'com.theartofdev.edmodo:android-image-cropper:2.8.+'\r\n    implementation 'com.squareup.picasso:picasso:2.71828'\r\n    implementation 'androidx.constraintlayout:constraintlayout:2.0.4'\r\n    implementation 'com.android.volley:volley:1.2.0'\r\n\r\n    implementation 'com.github.p32929:AndroidEasySQL-Library:1.4.1'\r\n\r\n    // Import the BoM for the Firebase platform\r\n    implementation platform('com.google.firebase:firebase-bom:26.5.0')\r\n\r\n    // Declare the dependency for the Realtime Database library\r\n    // When using the BoM, you don't specify versions in Firebase library dependencies\r\n    implementation 'com.google.firebase:firebase-database'\r\n    implementation 'com.google.firebase:firebase-storage'\r\n    implementation 'com.google.firebase:firebase-auth'\r\n    implementation 'com.google.firebase:firebase-messaging'\r\n    testImplementation 'junit:junit:4.13.1'\r\n    androidTestImplementation 'androidx.test.ext:junit:1.1.2'\r\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.3.0'\r\n\r\n    implementation 'com.google.android.material:material:1.3.0'\r\n//    implementation \"androidx.cardview:cardview:1.0.0\"\r\n    implementation \"androidx.recyclerview:recyclerview:1.1.0\"\r\n    // For control over item selection of both touch and mouse driven selection\r\n//    implementation \"androidx.recyclerview:recyclerview-selection:1.1.0\"\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/build.gradle	(revision b0d1164bf56307360b1dbf1beb6452d04262b3e1)
+++ app/build.gradle	(date 1619633485388)
@@ -55,4 +55,6 @@
     implementation "androidx.recyclerview:recyclerview:1.1.0"
     // For control over item selection of both touch and mouse driven selection
 //    implementation "androidx.recyclerview:recyclerview-selection:1.1.0"
+
+    implementation 'com.google.android.gms:play-services-maps:17.0.0'
 }
Index: app/src/main/java/com/boosterfueldeliveryservices/Constants.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.boosterfueldeliveryservices;\r\n\r\npublic class Constants {\r\n\r\n    public static final String FOM_KEY = \"AAAAUMfmPto:APA91bFZ4nZokfq26TbmgZnM_4gI6-cH-BLo6toWyX8rFS_U3bDrS9evhAb7tpWVFoiWnqSTAqRkhio8Y8mUOeYcRSkJDMg37-OXG9q8qDLZu8ZddRy0xhVNPwoM2wJ-E-RDMp2n4YMc\";\r\n    public static final String FOM_TOPIC = \"PUSH_NOTIFICATIONS\";\r\n\r\n    //product categories\r\n    public static final String[] productCategories = {\r\n            \"Fuel\",\r\n            \"Diesel\",\r\n            \"Vehicle Services\",\r\n            \"Store Food\"\r\n    };\r\n\r\n    //product categories\r\n    public static final String[] productCategories1 = {\r\n            \"All\",\r\n            \"Fuel\",\r\n            \"Diesel\",\r\n            \"Vehicle Services\",\r\n            \"Store Food\"\r\n    };\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/boosterfueldeliveryservices/Constants.java	(revision b0d1164bf56307360b1dbf1beb6452d04262b3e1)
+++ app/src/main/java/com/boosterfueldeliveryservices/Constants.java	(date 1619633216046)
@@ -2,6 +2,8 @@
 
 public class Constants {
 
+    public static final String MAPS_API_KEY = "AIzaSyCH7BT09Je2jtDho59ZmOltyCA7DPF_fmo";
+
     public static final String FOM_KEY = "AAAAUMfmPto:APA91bFZ4nZokfq26TbmgZnM_4gI6-cH-BLo6toWyX8rFS_U3bDrS9evhAb7tpWVFoiWnqSTAqRkhio8Y8mUOeYcRSkJDMg37-OXG9q8qDLZu8ZddRy0xhVNPwoM2wJ-E-RDMp2n4YMc";
     public static final String FOM_TOPIC = "PUSH_NOTIFICATIONS";
 
Index: app/src/main/res/layout/activity_main_user.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    tools:context=\".activities.MainUserActivity\">\r\n\r\n    <RelativeLayout\r\n        android:id=\"@+id/toolbarRl\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:padding=\"10dp\"\r\n        android:background=\"@drawable/shape_rect01\">\r\n\r\n        <ImageButton\r\n            android:id=\"@+id/logoutBtn\"\r\n            android:layout_width=\"30dp\"\r\n            android:layout_height=\"30dp\"\r\n            android:src=\"@drawable/ic_power_white\"\r\n            android:layout_alignParentEnd=\"true\"\r\n            android:background=\"@null\"/>\r\n\r\n        <ImageButton\r\n            android:id=\"@+id/editProfileBtn\"\r\n            android:layout_width=\"30dp\"\r\n            android:layout_height=\"30dp\"\r\n            android:src=\"@drawable/ic_edit_white\"\r\n            android:layout_toStartOf=\"@id/logoutBtn\"\r\n            android:background=\"@null\"/>\r\n\r\n        <!--Settings Button-->\r\n        <ImageButton\r\n            android:id=\"@+id/settingsBtn\"\r\n            android:layout_width=\"30dp\"\r\n            android:layout_height=\"30dp\"\r\n            android:src=\"@drawable/ic_settings_white\"\r\n            android:layout_toStartOf=\"@id/editProfileBtn\"\r\n            android:background=\"@null\"/>\r\n\r\n\r\n        <com.blogspot.atifsoftwares.circularimageview.CircularImageView\r\n            android:layout_width=\"70dp\"\r\n            android:layout_height=\"70dp\"\r\n            android:id=\"@+id/profileIv\"\r\n            android:layout_marginEnd=\"10dp\"\r\n            app:c_border=\"true\"\r\n            app:c_border_color=\"@color/colorWhite\"\r\n            android:src=\"@drawable/ic_store_gray\"/>\r\n\r\n        <TextView\r\n            android:id=\"@+id/nameTv\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:text=\"Name\"\r\n            android:layout_toEndOf=\"@id/profileIv\"\r\n            android:textStyle=\"bold\"\r\n            android:textColor=\"@color/colorWhite\"\r\n            />\r\n\r\n        <TextView\r\n            android:id=\"@+id/emailTv\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:text=\"Email\"\r\n            android:layout_toEndOf=\"@id/profileIv\"\r\n            android:layout_below=\"@+id/nameTv\"\r\n            android:textColor=\"@color/colorWhite\"\r\n            />\r\n\r\n        <TextView\r\n            android:id=\"@+id/phoneTv\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:text=\"Phone\"\r\n            android:layout_toEndOf=\"@id/profileIv\"\r\n            android:layout_below=\"@+id/emailTv\"\r\n            android:textColor=\"@color/colorWhite\"\r\n            />\r\n\r\n        <!--Tab: Shops, Orders-->\r\n        <LinearLayout\r\n            android:layout_below=\"@id/profileIv\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"40dp\"\r\n            android:background=\"@drawable/shape_rect03\"\r\n            android:orientation=\"horizontal\"\r\n            android:layout_marginTop=\"5dp\">\r\n\r\n            <!--Shops-->\r\n            <TextView\r\n                android:id=\"@+id/tabShopsTv\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"match_parent\"\r\n                android:layout_weight=\"1\"\r\n                android:background=\"@drawable/shape_rect04\"\r\n                android:gravity=\"center\"\r\n                android:text=\"Shops\"\r\n                android:textColor=\"@color/colorBlack\"/>\r\n\r\n            <!--Orders-->\r\n            <TextView\r\n                android:id=\"@+id/tabOrdersTv\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"match_parent\"\r\n                android:layout_weight=\"1\"\r\n                android:gravity=\"center\"\r\n                android:text=\"Orders\"\r\n                android:textColor=\"@color/colorWhite\"/>\r\n\r\n        </LinearLayout>\r\n\r\n    </RelativeLayout>\r\n\r\n    <!--Petrol Shops UI-->\r\n    <RelativeLayout\r\n        android:id=\"@+id/shopsRl\"\r\n        android:layout_below=\"@id/toolbarRl\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"match_parent\">\r\n\r\n        <androidx.recyclerview.widget.RecyclerView\r\n            android:id=\"@+id/shopsRv\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"match_parent\"\r\n            app:layoutManager=\"androidx.recyclerview.widget.LinearLayoutManager\"\r\n            tools:listitem=\"@layout/row_shop\"/>\r\n\r\n    </RelativeLayout>\r\n\r\n    <!--Orders UI-->\r\n    <RelativeLayout\r\n        android:visibility=\"gone\"\r\n        android:id=\"@+id/ordersRl\"\r\n        android:layout_below=\"@id/toolbarRl\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"match_parent\">\r\n\r\n        <!--recyclerView: show orders (Newest First)-->\r\n        <androidx.recyclerview.widget.RecyclerView\r\n            android:id=\"@+id/ordersRv\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\"\r\n            app:stackFromEnd=\"true\"\r\n            app:reverseLayout=\"true\"\r\n            app:layoutManager=\"androidx.recyclerview.widget.LinearLayoutManager\"\r\n            tools:listitem=\"@layout/row_order_user\"/>\r\n\r\n    </RelativeLayout>\r\n\r\n</RelativeLayout>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/layout/activity_main_user.xml	(revision b0d1164bf56307360b1dbf1beb6452d04262b3e1)
+++ app/src/main/res/layout/activity_main_user.xml	(date 1619634825302)
@@ -6,6 +6,7 @@
     android:layout_height="match_parent"
     tools:context=".activities.MainUserActivity">
 
+
     <RelativeLayout
         android:id="@+id/toolbarRl"
         android:layout_width="match_parent"
@@ -87,6 +88,16 @@
             android:orientation="horizontal"
             android:layout_marginTop="5dp">
 
+            <!--Map-->
+            <TextView
+                android:id="@+id/tabMapsTv"
+                android:layout_width="wrap_content"
+                android:layout_height="match_parent"
+                android:layout_weight="1"
+                android:gravity="center"
+                android:text="Map"
+                android:textColor="@color/colorWhite"/>
+
             <!--Shops-->
             <TextView
                 android:id="@+id/tabShopsTv"
@@ -110,10 +121,30 @@
 
         </LinearLayout>
 
+    </RelativeLayout>
+
+    <!--Maps UI-->
+    <RelativeLayout
+        android:visibility="visible"
+        android:id="@+id/mapsRl"
+        android:layout_below="@id/toolbarRl"
+        android:layout_width="match_parent"
+        android:layout_height="match_parent">
+
+        <com.google.android.gms.maps.MapView
+            android:id="@+id/mapsMv"
+            android:layout_width="match_parent"
+            android:layout_height="0dp"
+            android:layout_weight="0.60"/>
+
+
+
+
     </RelativeLayout>
 
     <!--Petrol Shops UI-->
     <RelativeLayout
+        android:visibility="gone"
         android:id="@+id/shopsRl"
         android:layout_below="@id/toolbarRl"
         android:layout_width="match_parent"
Index: app/src/main/java/com/boosterfueldeliveryservices/activities/MainUserActivity.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.boosterfueldeliveryservices.activities;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AlertDialog;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport android.app.ProgressDialog;\r\nimport android.content.DialogInterface;\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.ImageButton;\r\nimport android.widget.ImageView;\r\nimport android.widget.RelativeLayout;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport com.boosterfueldeliveryservices.R;\r\nimport com.boosterfueldeliveryservices.adapters.AdapterOrderUser;\r\nimport com.boosterfueldeliveryservices.adapters.AdapterShop;\r\nimport com.boosterfueldeliveryservices.models.ModelOrderUser;\r\nimport com.boosterfueldeliveryservices.models.ModelShop;\r\nimport com.google.android.gms.tasks.OnFailureListener;\r\nimport com.google.android.gms.tasks.OnSuccessListener;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.auth.FirebaseUser;\r\nimport com.google.firebase.database.DataSnapshot;\r\nimport com.google.firebase.database.DatabaseError;\r\nimport com.google.firebase.database.DatabaseReference;\r\nimport com.google.firebase.database.FirebaseDatabase;\r\nimport com.google.firebase.database.ValueEventListener;\r\nimport com.squareup.picasso.Picasso;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.HashMap;\r\n\r\npublic class MainUserActivity extends AppCompatActivity {\r\n\r\n    private TextView nameTv, emailTv, phoneTv, tabShopsTv, tabOrdersTv ;\r\n    private RelativeLayout shopsRl, ordersRl;\r\n    private ImageButton logoutBtn, editProfileBtn, settingsBtn;\r\n    private ImageView profileIv;\r\n    private RecyclerView shopsRv, ordersRv;\r\n    private FirebaseAuth firebaseAuth;\r\n    private ProgressDialog progressDialog;\r\n\r\n    private ArrayList<ModelShop> shopsList;\r\n    private AdapterShop adapterShop;\r\n\r\n    private ArrayList<ModelOrderUser> ordersList;\r\n    private AdapterOrderUser adapterOrderUser;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main_user);\r\n\r\n        nameTv = findViewById(R.id.nameTv);\r\n        emailTv = findViewById(R.id.emailTv);\r\n        phoneTv = findViewById(R.id.phoneTv);\r\n        tabShopsTv = findViewById(R.id.tabShopsTv);\r\n        tabOrdersTv = findViewById(R.id.tabOrdersTv);\r\n        shopsRv = findViewById(R.id.shopsRv);\r\n        ordersRv = findViewById(R.id.ordersRv);\r\n\r\n        shopsRl = findViewById(R.id.shopsRl);\r\n        ordersRl = findViewById(R.id.ordersRl);\r\n        editProfileBtn = findViewById(R.id.editProfileBtn);\r\n\r\n        logoutBtn = findViewById(R.id.logoutBtn);\r\n        settingsBtn = findViewById(R.id.settingsBtn);\r\n        editProfileBtn = findViewById(R.id.editProfileBtn);\r\n        profileIv = findViewById(R.id.profileIv);\r\n\r\n        firebaseAuth = FirebaseAuth.getInstance();\r\n        progressDialog = new ProgressDialog(this);\r\n        progressDialog.setTitle(\"Please wait...\");\r\n        progressDialog.setCanceledOnTouchOutside(false);\r\n        checkUser();\r\n\r\n        //at start show shops UI\r\n        showShopsUI();\r\n\r\n\r\n        logoutBtn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                //make offline when signOut\r\n                //go to login activity\r\n                logOutDialog();\r\n            }\r\n        });\r\n\r\n        editProfileBtn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                //open edit profile activity\r\n                startActivity(new Intent(MainUserActivity.this, ProfileEditUserActivity.class));\r\n\r\n            }\r\n        });\r\n\r\n        tabShopsTv.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                showShopsUI();\r\n            }\r\n        });\r\n\r\n        tabOrdersTv.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                showOrdersUI();\r\n            }\r\n        });\r\n\r\n        //start settings screen activity\r\n        settingsBtn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                startActivity(new Intent(MainUserActivity.this, SettingsActivity.class));\r\n            }\r\n        });\r\n    }\r\n\r\n    private void showShopsUI() {\r\n        //show shops ui, hide orders ui\r\n        shopsRl.setVisibility(View.VISIBLE);\r\n        ordersRl.setVisibility(View.GONE);\r\n\r\n        tabShopsTv.setTextColor(getResources().getColor(R.color.colorBlack));\r\n        tabShopsTv.setBackgroundResource(R.drawable.shape_rect04);\r\n\r\n        tabOrdersTv.setTextColor(getResources().getColor(R.color.colorWhite));\r\n        tabOrdersTv.setBackgroundColor(getResources().getColor(android.R.color.transparent));\r\n\r\n    }\r\n\r\n    private void showOrdersUI() {\r\n        //show orders ui, hide Shops ui\r\n        shopsRl.setVisibility(View.GONE);\r\n        ordersRl.setVisibility(View.VISIBLE);\r\n\r\n        tabShopsTv.setTextColor(getResources().getColor(R.color.colorWhite));\r\n        tabShopsTv.setBackgroundColor(getResources().getColor(android.R.color.transparent));\r\n\r\n        tabOrdersTv.setTextColor(getResources().getColor(R.color.colorBlack));\r\n        tabOrdersTv.setBackgroundResource(R.drawable.shape_rect04);\r\n\r\n    }\r\n\r\n    private void makeMeOffline() {\r\n        //after logging out, making user offline\r\n\r\n        progressDialog.setMessage(\"Logging Out User......\");\r\n\r\n        HashMap<String, Object> hashMap = new HashMap<>();\r\n        hashMap.put(\"online\",\"false\");\r\n\r\n        //update value to db\r\n        DatabaseReference ref = FirebaseDatabase.getInstance().getReference(\"Users\");\r\n        ref.child(firebaseAuth.getUid()).updateChildren(hashMap)\r\n                .addOnSuccessListener(new OnSuccessListener<Void>() {\r\n                    @Override\r\n                    public void onSuccess(Void aVoid) {\r\n                        //updated successfully\r\n                        firebaseAuth.signOut();\r\n                        checkUser();\r\n\r\n                    }\r\n                }).addOnFailureListener(new OnFailureListener() {\r\n            @Override\r\n            public void onFailure(@NonNull Exception e) {\r\n                Toast.makeText(MainUserActivity.this,\"\"+e.getMessage(), Toast.LENGTH_SHORT).show();\r\n            }\r\n        });\r\n    }\r\n\r\n    private void checkUser() {\r\n        FirebaseUser user = firebaseAuth.getCurrentUser();\r\n        if (user == null){\r\n            startActivity(new Intent(MainUserActivity.this, LoginActivity.class));\r\n            finish();\r\n        }\r\n        else{\r\n            loadMyInfo();\r\n        }\r\n    }\r\n\r\n    private void loadMyInfo() {\r\n        DatabaseReference ref = FirebaseDatabase.getInstance().getReference(\"Users\");\r\n        ref.orderByChild(\"uid\").equalTo(firebaseAuth.getUid())\r\n                .addListenerForSingleValueEvent(new ValueEventListener() {\r\n                    @Override\r\n                    public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\r\n                        for (DataSnapshot ds: dataSnapshot.getChildren() ){\r\n                            //get user data\r\n                            String name = \"\"+ds.child(\"name\").getValue();\r\n                            String email = \"\"+ds.child(\"email\").getValue();\r\n                            String phone = \"\"+ds.child(\"phone\").getValue();\r\n                            String profileImage = \"\"+ds.child(\"profileImage\").getValue();\r\n                            String accountType = \"\"+ds.child(\"accountType\").getValue();\r\n                            String city = \"\"+ds.child(\"city\").getValue();\r\n\r\n                            //set user data\r\n                            nameTv.setText(name);\r\n                            emailTv.setText(email);\r\n                            phoneTv.setText(phone);\r\n\r\n                            try {\r\n                                Picasso.get().load(profileImage).placeholder(R.drawable.ic_person_gray).into(profileIv);\r\n                            }\r\n                            catch (Exception e){\r\n                                profileIv.setImageResource(R.drawable.ic_person_gray);\r\n                            }\r\n\r\n                            //load only those shops that are in the city of user\r\n                            loadShops(city);\r\n                            loadOrders();\r\n\r\n                        }\r\n                    }\r\n\r\n                    @Override\r\n                    public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n                    }\r\n                });\r\n    }\r\n\r\n    private void loadOrders() {\r\n        //init orders list\r\n        ordersList = new ArrayList<>();\r\n\r\n        DatabaseReference ref = FirebaseDatabase.getInstance().getReference(\"Users\");\r\n        ref.addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                ordersList.clear();\r\n                for (DataSnapshot ds: snapshot.getChildren()){\r\n                    String uid = \"\"+ds.getRef().getKey();\r\n\r\n                    DatabaseReference ref = FirebaseDatabase.getInstance().getReference(\"Users\").child(uid).child(\"Orders\");\r\n                    ref.orderByChild(\"orderBy\").equalTo(firebaseAuth.getUid())\r\n                            .addValueEventListener(new ValueEventListener() {\r\n                                @Override\r\n                                public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                                    if (snapshot.exists()){\r\n                                        for (DataSnapshot ds: snapshot.getChildren()){\r\n                                            ModelOrderUser modelOrderUser = ds.getValue(ModelOrderUser.class);\r\n\r\n                                            //add to list\r\n                                            ordersList.add(modelOrderUser);\r\n                                        }\r\n                                        //setup adapter\r\n                                        adapterOrderUser = new AdapterOrderUser(MainUserActivity.this, ordersList);\r\n\r\n                                        //set to recycler view\r\n                                   ordersRv.setAdapter(adapterOrderUser);\r\n                                    }\r\n                                }\r\n\r\n                                @Override\r\n                                public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n                                }\r\n                            });\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n            }\r\n        });\r\n    }\r\n\r\n    private void loadShops(final String myCity){\r\n        //init shops List\r\n        shopsList = new ArrayList<>();\r\n\r\n        DatabaseReference ref = FirebaseDatabase.getInstance().getReference(\"Users\");\r\n        ref.orderByChild(\"accountType\").equalTo(\"Seller\")\r\n                .addListenerForSingleValueEvent(new ValueEventListener() {\r\n                    @Override\r\n                    public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\r\n                        //clear list before adding\r\n                        shopsList.clear();\r\n                        for (DataSnapshot ds: dataSnapshot.getChildren()){\r\n                            ModelShop modelShop = ds.getValue(ModelShop.class);\r\n\r\n                            String shopCity = \"\"+ds.child(\"city\").getValue();\r\n\r\n                            //show only user city shops\r\n//                            if (shopCity.equals(myCity)){\r\n//                                shopsList.add(modelShop);\r\n//\r\n//                            }\r\n\r\n                            //if you want to display all shops, then skip the if statement and add this\r\n                            shopsList.add(modelShop);\r\n\r\n                        }\r\n                        //setup adapter\r\n                        adapterShop = new AdapterShop(MainUserActivity.this, shopsList);\r\n                        //set adapter to recycler view\r\n                        shopsRv.setAdapter(adapterShop);\r\n\r\n\r\n                    }\r\n\r\n                    @Override\r\n                    public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n                    }\r\n                });\r\n\r\n    }\r\n\r\n    public void logOutDialog(){\r\n        AlertDialog.Builder alertDialogBuilder = new AlertDialog.Builder(this);\r\n        // Setting Alert Dialog Title\r\n        alertDialogBuilder.setTitle(\"Confirm Exit..!!!\");\r\n        // Icon Of Alert Dialog\r\n        alertDialogBuilder.setIcon(R.drawable.ic_power_white);\r\n        // Setting Alert Dialog Message\r\n        alertDialogBuilder.setMessage(\"Are you sure,You want to exit\");\r\n        alertDialogBuilder.setCancelable(false);\r\n\r\n        alertDialogBuilder.setPositiveButton(\"Confirm\", new DialogInterface.OnClickListener() {\r\n\r\n            @Override\r\n            public void onClick(DialogInterface arg0, int arg1) {\r\n                makeMeOffline();\r\n                finish();\r\n            }\r\n        });\r\n\r\n        alertDialogBuilder.setNegativeButton(\"No\", new DialogInterface.OnClickListener() {\r\n            @Override\r\n            public void onClick(DialogInterface dialog, int which) {\r\n                Toast.makeText(MainUserActivity.this,\"No No No\", Toast.LENGTH_SHORT).show();\r\n            }\r\n        });\r\n\r\n        AlertDialog alertDialog = alertDialogBuilder.create();\r\n        alertDialog.show();\r\n    }\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/boosterfueldeliveryservices/activities/MainUserActivity.java	(revision b0d1164bf56307360b1dbf1beb6452d04262b3e1)
+++ app/src/main/java/com/boosterfueldeliveryservices/activities/MainUserActivity.java	(date 1619634853185)
@@ -21,6 +21,7 @@
 import com.boosterfueldeliveryservices.adapters.AdapterShop;
 import com.boosterfueldeliveryservices.models.ModelOrderUser;
 import com.boosterfueldeliveryservices.models.ModelShop;
+import com.google.android.gms.maps.MapView;
 import com.google.android.gms.tasks.OnFailureListener;
 import com.google.android.gms.tasks.OnSuccessListener;
 import com.google.firebase.auth.FirebaseAuth;
@@ -37,11 +38,12 @@
 
 public class MainUserActivity extends AppCompatActivity {
 
-    private TextView nameTv, emailTv, phoneTv, tabShopsTv, tabOrdersTv ;
-    private RelativeLayout shopsRl, ordersRl;
+    private TextView nameTv, emailTv, phoneTv, tabMapsTv, tabShopsTv, tabOrdersTv ;
+    private RelativeLayout mapsRl, shopsRl, ordersRl;
     private ImageButton logoutBtn, editProfileBtn, settingsBtn;
     private ImageView profileIv;
     private RecyclerView shopsRv, ordersRv;
+    private MapView mapsMv;
     private FirebaseAuth firebaseAuth;
     private ProgressDialog progressDialog;
 
@@ -59,11 +61,14 @@
         nameTv = findViewById(R.id.nameTv);
         emailTv = findViewById(R.id.emailTv);
         phoneTv = findViewById(R.id.phoneTv);
+        tabMapsTv = findViewById(R.id.tabMapsTv);
         tabShopsTv = findViewById(R.id.tabShopsTv);
         tabOrdersTv = findViewById(R.id.tabOrdersTv);
+        mapsRl = findViewById(R.id.mapsRl);
         shopsRv = findViewById(R.id.shopsRv);
         ordersRv = findViewById(R.id.ordersRv);
 
+        mapsMv = findViewById(R.id.mapsMv);
         shopsRl = findViewById(R.id.shopsRl);
         ordersRl = findViewById(R.id.ordersRl);
         editProfileBtn = findViewById(R.id.editProfileBtn);
@@ -101,6 +106,13 @@
             }
         });
 
+        tabMapsTv.setOnClickListener(new View.OnClickListener() {
+            @Override
+            public void onClick(View view) {
+                showMapsUI();
+            }
+        });
+
         tabShopsTv.setOnClickListener(new View.OnClickListener() {
             @Override
             public void onClick(View view) {
@@ -124,11 +136,31 @@
         });
     }
 
+    private void showMapsUI(){
+        //show maps ui, hide shops, orders here
+        mapsRl.setVisibility(View.VISIBLE);
+        shopsRl.setVisibility(View.GONE);
+        ordersRl.setVisibility(View.GONE);
+
+        tabMapsTv.setTextColor(getResources().getColor(R.color.colorBlack));
+        tabMapsTv.setBackgroundResource(R.drawable.shape_rect04);
+
+        tabShopsTv.setTextColor(getResources().getColor(R.color.colorWhite));
+        tabShopsTv.setBackgroundColor(getResources().getColor(android.R.color.transparent));
+
+        tabOrdersTv.setTextColor(getResources().getColor(R.color.colorWhite));
+        tabOrdersTv.setBackgroundColor(getResources().getColor(android.R.color.transparent));
+    }
+
     private void showShopsUI() {
-        //show shops ui, hide orders ui
+        //show shops ui, hide orders, maps ui
+        mapsRl.setVisibility(View.GONE);
         shopsRl.setVisibility(View.VISIBLE);
         ordersRl.setVisibility(View.GONE);
 
+        tabMapsTv.setTextColor(getResources().getColor(R.color.colorWhite));
+        tabMapsTv.setBackgroundColor(getResources().getColor(android.R.color.transparent));
+
         tabShopsTv.setTextColor(getResources().getColor(R.color.colorBlack));
         tabShopsTv.setBackgroundResource(R.drawable.shape_rect04);
 
@@ -138,10 +170,14 @@
     }
 
     private void showOrdersUI() {
-        //show orders ui, hide Shops ui
+        //show orders ui, hide Shops, maps ui
+        mapsRl.setVisibility(View.GONE);
         shopsRl.setVisibility(View.GONE);
         ordersRl.setVisibility(View.VISIBLE);
 
+        tabMapsTv.setTextColor(getResources().getColor(R.color.colorWhite));
+        tabMapsTv.setBackgroundColor(getResources().getColor(android.R.color.transparent));
+
         tabShopsTv.setTextColor(getResources().getColor(R.color.colorWhite));
         tabShopsTv.setBackgroundColor(getResources().getColor(android.R.color.transparent));
 
@@ -218,6 +254,7 @@
                             //load only those shops that are in the city of user
                             loadShops(city);
                             loadOrders();
+                            loadMap();
 
                         }
                     }
@@ -229,6 +266,10 @@
                 });
     }
 
+    private void loadMap() {
+
+    }
+
     private void loadOrders() {
         //init orders list
         ordersList = new ArrayList<>();
Index: .idea/vcs.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- .idea/vcs.xml	(date 1617260177322)
+++ .idea/vcs.xml	(date 1617260177322)
@@ -0,0 +1,6 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<project version="4">
+  <component name="VcsDirectoryMappings">
+    <mapping directory="$PROJECT_DIR$" vcs="Git" />
+  </component>
+</project>
\ No newline at end of file
Index: .idea/compiler.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- .idea/compiler.xml	(date 1619630772469)
+++ .idea/compiler.xml	(date 1619630772469)
@@ -0,0 +1,6 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<project version="4">
+  <component name="CompilerConfiguration">
+    <bytecodeTargetLevel target="1.8" />
+  </component>
+</project>
\ No newline at end of file
Index: .idea/jarRepositories.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- .idea/jarRepositories.xml	(date 1619630884308)
+++ .idea/jarRepositories.xml	(date 1619630884308)
@@ -0,0 +1,30 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<project version="4">
+  <component name="RemoteRepositoriesConfiguration">
+    <remote-repository>
+      <option name="id" value="central" />
+      <option name="name" value="Maven Central repository" />
+      <option name="url" value="https://repo1.maven.org/maven2" />
+    </remote-repository>
+    <remote-repository>
+      <option name="id" value="jboss.community" />
+      <option name="name" value="JBoss Community repository" />
+      <option name="url" value="https://repository.jboss.org/nexus/content/repositories/public/" />
+    </remote-repository>
+    <remote-repository>
+      <option name="id" value="BintrayJCenter" />
+      <option name="name" value="BintrayJCenter" />
+      <option name="url" value="https://jcenter.bintray.com/" />
+    </remote-repository>
+    <remote-repository>
+      <option name="id" value="maven" />
+      <option name="name" value="maven" />
+      <option name="url" value="https://jitpack.io" />
+    </remote-repository>
+    <remote-repository>
+      <option name="id" value="Google" />
+      <option name="name" value="Google" />
+      <option name="url" value="https://dl.google.com/dl/android/maven2/" />
+    </remote-repository>
+  </component>
+</project>
\ No newline at end of file
Index: app/src/main/AndroidManifest.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    package=\"com.boosterfueldeliveryservices\">\r\n\r\n    <uses-permission android:name=\"android.permission.CAMERA\" />\r\n    <uses-permission android:name=\"android.permission.WRITE_EXTERNAL_STORAGE\" />\r\n    <uses-permission android:name=\"android.permission.INTERNET\" />\r\n    <uses-permission android:name=\"android.permission.ACCESS_FINE_LOCATION\" />\r\n    <uses-permission android:name=\"android.permission.ACCESS_COARSE_LOCATION\" />\r\n\r\n    <application\r\n        android:allowBackup=\"true\"\r\n        android:icon=\"@mipmap/ic_launcher1\"\r\n        android:label=\"@string/app_name\"\r\n        android:roundIcon=\"@mipmap/ic_launcher1\"\r\n        android:supportsRtl=\"true\"\r\n        android:theme=\"@style/AppTheme.NoActionBar\">\r\n        <activity android:name=\".activities.SettingsActivity\"></activity>\r\n        <activity android:name=\".activities.OrderDetailsSellerActivity\" />\r\n        <activity android:name=\".activities.ShopReviewsActivity\" />\r\n        <activity android:name=\".activities.WriteReviewActivity\" />\r\n        <activity android:name=\".activities.OrderDetailsUsersActivity\" />\r\n        <activity\r\n            android:name=\".activities.ShopDetailsActivity\"\r\n            android:windowSoftInputMode=\"stateHidden\" />\r\n        <activity android:name=\".activities.EditProductAcitivity\" />\r\n        <activity android:name=\".activities.AddProductActivity\" />\r\n        <activity android:name=\".activities.ProfileEditSellerActivity\" />\r\n        <activity android:name=\".activities.ProfileEditUserActivity\" />\r\n        <activity android:name=\".activities.MainSellerActivity\" />\r\n        <activity android:name=\".activities.MainUserActivity\" />\r\n        <activity android:name=\".activities.ForgotPasswordActivity\" />\r\n        <activity android:name=\".activities.RegisterSellerActivity\" />\r\n        <activity android:name=\".activities.RegisterUserActivity\" />\r\n        <activity android:name=\".activities.LoginActivity\" />\r\n        <activity android:name=\".activities.SplashActivity\">\r\n            <intent-filter>\r\n                <action android:name=\"android.intent.action.MAIN\" />\r\n\r\n                <category android:name=\"android.intent.category.LAUNCHER\" />\r\n            </intent-filter>\r\n        </activity>\r\n        <activity\r\n            android:name=\"com.theartofdev.edmodo.cropper.CropImageActivity\"\r\n            android:theme=\"@style/Base.Theme.AppCompat\" />\r\n\r\n        <!--register service to allow to run in backGround-->\r\n        <service\r\n        android:name=\".MyFirebaseMessaging\">\r\n        <intent-filter>\r\n            <action android:name=\"com.google.firebase.INSTANCE_ID_EVENT\"/>\r\n        </intent-filter>\r\n    </service>\r\n\r\n    </application>\r\n\r\n</manifest>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/AndroidManifest.xml	(revision b0d1164bf56307360b1dbf1beb6452d04262b3e1)
+++ app/src/main/AndroidManifest.xml	(date 1619633561865)
@@ -52,6 +52,10 @@
         </intent-filter>
     </service>
 
+        <meta-data
+            android:name="com.google.android.geo.API_KEY"
+            android:value="AIzaSyCH7BT09Je2jtDho59ZmOltyCA7DPF_fmo"/>
+
     </application>
 
 </manifest>
\ No newline at end of file
Index: .idea/gradle.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<project version=\"4\">\r\n  <component name=\"GradleMigrationSettings\" migrationVersion=\"1\" />\r\n  <component name=\"GradleSettings\">\r\n    <option name=\"linkedExternalProjectsSettings\">\r\n      <GradleProjectSettings>\r\n        <option name=\"testRunner\" value=\"PLATFORM\" />\r\n        <option name=\"distributionType\" value=\"DEFAULT_WRAPPED\" />\r\n        <option name=\"externalProjectPath\" value=\"$PROJECT_DIR$\" />\r\n        <option name=\"modules\">\r\n          <set>\r\n            <option value=\"$PROJECT_DIR$\" />\r\n            <option value=\"$PROJECT_DIR$/app\" />\r\n          </set>\r\n        </option>\r\n        <option name=\"resolveModulePerSourceSet\" value=\"false\" />\r\n      </GradleProjectSettings>\r\n    </option>\r\n  </component>\r\n</project>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- .idea/gradle.xml	(revision b0d1164bf56307360b1dbf1beb6452d04262b3e1)
+++ .idea/gradle.xml	(date 1619630592084)
@@ -14,6 +14,7 @@
           </set>
         </option>
         <option name="resolveModulePerSourceSet" value="false" />
+        <option name="useQualifiedModuleNames" value="true" />
       </GradleProjectSettings>
     </option>
   </component>
Index: .idea/misc.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<project version=\"4\">\r\n  <component name=\"ProjectRootManager\" version=\"2\" languageLevel=\"JDK_1_7\" project-jdk-name=\"1.8\" project-jdk-type=\"JavaSDK\">\r\n    <output url=\"file://$PROJECT_DIR$/build/classes\" />\r\n  </component>\r\n  <component name=\"ProjectType\">\r\n    <option name=\"id\" value=\"Android\" />\r\n  </component>\r\n</project>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- .idea/misc.xml	(revision b0d1164bf56307360b1dbf1beb6452d04262b3e1)
+++ .idea/misc.xml	(date 1619630772329)
@@ -1,6 +1,6 @@
 <?xml version="1.0" encoding="UTF-8"?>
 <project version="4">
-  <component name="ProjectRootManager" version="2" languageLevel="JDK_1_7" project-jdk-name="1.8" project-jdk-type="JavaSDK">
+  <component name="ProjectRootManager" version="2" languageLevel="JDK_1_8" default="true" project-jdk-name="1.8" project-jdk-type="JavaSDK">
     <output url="file://$PROJECT_DIR$/build/classes" />
   </component>
   <component name="ProjectType">
